import{_ as V,u as k,M as I,a as S,r as C,$ as F,o as p,f as _,j as o,w as c,h as s,F as B,a4 as N,a5 as j,a0 as q,l as u,a2 as D,a3 as H,I as R}from"./index-ecf59d4e.js";import{F as T,C as U}from"./index-90d41081.js";import{F as z}from"./index-7bf84ae4.js";import{B as E}from"./index-e6f4b048.js";import"./use-route-b6750b53.js";const G=t=>(D("data-v-1524cb14"),t=t(),H(),t),M={class:"head"},$={class:"login"},A={class:"login-wrap"},J=G(()=>s("div",{class:"title"},"账号密码登录",-1)),K={style:{margin:"16px"}},L=N('<div class="footer" data-v-1524cb14><div class="wx" data-v-1524cb14><i class="iconfont icon-weixin" style="color:rgb(67, 165, 68);" data-v-1524cb14></i><span data-v-1524cb14>微信登录</span></div><div class="sj" data-v-1524cb14><i class="iconfont icon-shouji1" style="color:rgb(85, 151, 226);" data-v-1524cb14></i><span data-v-1524cb14>本机号码一键登录</span></div><div class="pg" data-v-1524cb14><i class="iconfont icon-gitee" style="color:rgb(169, 21, 21);" data-v-1524cb14></i></div></div>',1),O={__name:"index",setup(t){const l=k(),a=I({username:"",password:""}),i=S(!1),m=async()=>{i.value=!0,await j({username:a.username,password:a.password}).then(e=>{e!=null&&e.token&&(localStorage.setItem("token",e.token),setTimeout(()=>{l.push({path:"/index"})},1e3))}).catch(e=>{console.log(1111444,e)}).finally(()=>{i.value=!1})},v=()=>{l.push("/register")},f=()=>{l.push("/home")};return(e,n)=>{const g=R,b=C("Header"),r=T,h=U,w=E,x=z,y=F("loading");return p(),_(B,null,[o(b,null,{default:c(()=>[s("div",M,[s("div",{onClick:f,class:"cross"},[o(g,{name:"cross",color:"#fff",size:"18px"})]),s("div",{class:"link-register",onClick:v},"注册")]),q((p(),_("div",$,[u("用户登录")])),[[y,i.value]])]),_:1}),s("div",A,[J,o(x,{onSubmit:m},{default:c(()=>[o(h,{inset:""},{default:c(()=>[o(r,{modelValue:a.username,"onUpdate:modelValue":n[0]||(n[0]=d=>a.username=d),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(r,{modelValue:a.password,"onUpdate:modelValue":n[1]||(n[1]=d=>a.password=d),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),s("div",K,[o(w,{round:"",block:"",type:"primary","native-type":"submit"},{default:c(()=>[u(" 登录 ")]),_:1})])]),_:1})]),L],64)}}},Z=V(O,[["__scopeId","data-v-1524cb14"]]);export{Z as default};
