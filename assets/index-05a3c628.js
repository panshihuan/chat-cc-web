import{_ as V,u as k,M as I,a as S,r as C,$ as F,o as p,f as _,j as o,w as n,h as s,F as B,a4 as N,a5 as j,a0 as q,l as u,a2 as D,a3 as H,I as R}from"./index-c553e53f.js";import{F as T,C as U}from"./index-e1d12456.js";import{F as z}from"./index-3791cb06.js";import{B as E}from"./index-469e0b1d.js";import"./use-route-cb9343af.js";const G=t=>(D("data-v-d3bd1dfc"),t=t(),H(),t),M={class:"head"},$={class:"login"},A={class:"login-wrap"},J=G(()=>s("div",{class:"title"},"账号密码登录",-1)),K={style:{margin:"16px"}},L=N('<div class="footer" data-v-d3bd1dfc><div class="wx" data-v-d3bd1dfc><i class="iconfont icon-weixin" style="color:rgb(67, 165, 68);" data-v-d3bd1dfc></i><span data-v-d3bd1dfc>微信登录</span></div><div class="sj" data-v-d3bd1dfc><i class="iconfont icon-shouji1" style="color:rgb(85, 151, 226);" data-v-d3bd1dfc></i><span data-v-d3bd1dfc>本机号码一键登录</span></div><div class="pg" data-v-d3bd1dfc><i class="iconfont icon-gitee" style="color:rgb(169, 21, 21);" data-v-d3bd1dfc></i></div></div>',1),O={__name:"index",setup(t){const c=k(),a=I({username:"",password:""}),l=S(!1),m=async()=>{l.value=!0,await j({username:a.username,password:a.password}).then(e=>{e!=null&&e.token&&(localStorage.setItem("token",e.token),setTimeout(()=>{c.push({path:"/index"})},1e3))}).catch(e=>{console.log(1111444,e)}).finally(()=>{l.value=!1})},v=()=>{c.push("/register")},f=()=>{c.push("/home")};return(e,d)=>{const g=R,b=C("Header"),r=T,h=U,w=E,x=z,y=F("loading");return p(),_(B,null,[o(b,null,{default:n(()=>[s("div",M,[s("div",{onClick:f,class:"cross"},[o(g,{name:"cross",color:"#fff",size:"18px"})]),s("div",{class:"link-register",onClick:v},"注册")]),q((p(),_("div",$,[u("用户登录")])),[[y,l.value]])]),_:1}),s("div",A,[J,o(x,{onSubmit:m},{default:n(()=>[o(h,{inset:""},{default:n(()=>[o(r,{modelValue:a.username,"onUpdate:modelValue":d[0]||(d[0]=i=>a.username=i),name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),o(r,{modelValue:a.password,"onUpdate:modelValue":d[1]||(d[1]=i=>a.password=i),type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),s("div",K,[o(w,{round:"",block:"",type:"primary","native-type":"submit"},{default:n(()=>[u(" 登录 ")]),_:1})])]),_:1})]),L],64)}}},Z=V(O,[["__scopeId","data-v-d3bd1dfc"]]);export{Z as default};
